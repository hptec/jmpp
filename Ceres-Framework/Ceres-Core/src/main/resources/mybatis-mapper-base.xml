<?xml version="1.0" encoding="UTF-8" ?>  
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.cerestech.framework.persistence.mapper.BaseMapper">

	<select id="select" resultType="map">
		SELECT ${fields}
		FROM `${tablename}`
		<if test="where!=null">
			WHERE ${where}
		</if>
	</select>

	<delete id="delete">
		DELETE FROM `${tablename}`
		<if test="where!=null">
			WHERE ${where}
		</if>
		<if test="where==null">
			WHERE 1=2 /*不删除*/
		</if>
	</delete>
	<update id="update">
		UPDATE `${tablename}`
		<if test="set==null">
			SET id=id
		</if>
		<if test="set!=null">
			SET ${set}
		</if>
		<if test="where!=null">
			WHERE ${where}
		</if>
		<if test="where==null">
			WHERE 1=2/*不更新*/
		</if>
	</update>

	<select id="execute" >
		${sql}
	</select>

	<insert id="insert" useGeneratedKeys="true" keyProperty="obj.id"
		parameterType="java.lang.Object">
		INSERT INTO `${tablename}`
		${fields}
		VALUES
		${values}
	</insert>
	
	<insert id ="insertBatch" parameterType="List" >
		INSERT INTO `${tablename}`
		${fields}
		VALUES
		${values}
	</insert >

	<select id="database" resultType="string">
		SELECT database() as name;
	</select>

</mapper>
